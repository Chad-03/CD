{"remainingRequest":"F:\\workspace\\dev\\牛牛网\\node-js-jwt-auth and VUE\\chad_world_v3\\node_modules\\babel-loader\\lib\\index.js!F:\\workspace\\dev\\牛牛网\\node-js-jwt-auth and VUE\\chad_world_v3\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\workspace\\dev\\牛牛网\\node-js-jwt-auth and VUE\\chad_world_v3\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\workspace\\dev\\牛牛网\\node-js-jwt-auth and VUE\\chad_world_v3\\src\\views\\GoodsUpload.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\workspace\\dev\\牛牛网\\node-js-jwt-auth and VUE\\chad_world_v3\\src\\views\\GoodsUpload.vue","mtime":1625142381618},{"path":"F:\\workspace\\dev\\牛牛网\\node-js-jwt-auth and VUE\\chad_world_v3\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\workspace\\dev\\牛牛网\\node-js-jwt-auth and VUE\\chad_world_v3\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"F:\\workspace\\dev\\牛牛网\\node-js-jwt-auth and VUE\\chad_world_v3\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\workspace\\dev\\牛牛网\\node-js-jwt-auth and VUE\\chad_world_v3\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLnVybC5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vIGltcG9ydCBHb29kc1NlcnZpY2UgZnJvbSAnLi4vc2VydmljZXMvZ29vZHMuc2VydmljZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnR29vZHNNYW5hZ2VyJywKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZ29vZHNfbmFtZTogIiIsCiAgICAgIGdvb2RzX2Rlc2M6ICIiLAogICAgICBpbWc6ICIiLAogICAgICBwcmljZTogMC4wLAogICAgICBsb2FkaW5nOiBmYWxzZQogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7fSwKICBtZXRob2RzOiB7CiAgICBzdWJtaXRGb3JtOiBmdW5jdGlvbiBzdWJtaXRGb3JtKCkge30sCiAgICBQcmV2aWV3OiBmdW5jdGlvbiBQcmV2aWV3KGV2KSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICAvLyBjb25zdCBzZWxmPXRoaXM7CiAgICAgIHZhciBmaWxlID0gZXYudGFyZ2V0LmZpbGVzWzBdOwogICAgICB0aGlzLmltZ09iaiA9IGV2LnRhcmdldC5maWxlc1swXTsKICAgICAgdmFyIG9iaiA9IG5ldyBGaWxlUmVhZGVyKCk7CiAgICAgIG9iai5yZWFkQXNEYXRhVVJMKGZpbGUpOyAvLyBvYmoub25sb2FkPWZ1bmN0aW9uKCl7CiAgICAgIC8vICAgc2VsZi5pbWc9b2JqLnJlc3VsdDsKICAgICAgLy8gfQoKICAgICAgb2JqLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpcy5waWNSZWR1Y2Uob2JqLnJlc3VsdCwgZnVuY3Rpb24gKGJhc2U2NCkgewogICAgICAgICAgX3RoaXMuaW1nID0gYmFzZTY0OwogICAgICAgIH0pOwogICAgICB9OwogICAgfSwKICAgIHVwbG9hZDogZnVuY3Rpb24gdXBsb2FkKGV2ZW50KSB7CiAgICAgIHZhciBmaWxlcyA9IGV2ZW50LnRhcmdldC5maWxlc1swXTsKICAgICAgdmFyIG5hbWUgPSBmaWxlcy5uYW1lOyAvL+ivu+WPlumAieS4reaWh+S7tueahOaWh+S7tuWQjQoKICAgICAgdmFyIHNpemUgPSBmaWxlcy5zaXplOyAvL+ivu+WPlumAieS4reaWh+S7tueahOWkp+WwjwoKICAgICAgY29uc29sZS5sb2coIuaWh+S7tuWQjToiICsgbmFtZSArICLlpKflsI86IiArIHNpemUpOyAvLyB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTsvL+i/meaYr+aguOW/gyzor7vlj5bmk43kvZzlsLHmmK/nlLHlroPlrozmiJAuCiAgICAgIC8vIC8v5paw5bu6IEZpbGVSZWFkZXIg5a+56LGhCiAgICAgIC8vIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbigpewogICAgICAvLyAgIC8vIOW9kyBGaWxlUmVhZGVyIOivu+WPluaWh+S7tuaXtuWAme+8jOivu+WPlueahOe7k+aenOS8muaUvuWcqCBGaWxlUmVhZGVyLnJlc3VsdCDlsZ7mgKfkuK0KICAgICAgLy8gICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjaW1nJykuc3JjID0gdGhpcy5yZXN1bHQ7CiAgICAgIC8vICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3RleHQnKS5pbm5lckhUTUwgPSB0aGlzLnJlc3VsdDsKICAgICAgLy8KICAgICAgLy8KICAgICAgLy8gfTsKICAgICAgLy8gLy8g6K6+572u5Lul5LuA5LmI5pa55byP6K+75Y+W5paH5Lu277yM6L+Z6YeM5LulYmFzZTY05pa55byPCiAgICAgIC8vIHJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGVzKTsKICAgICAgLy/lrprkuYnmlofku7blhoXlrrnvvIznsbvlnovlv4XpobvkuLpCbG9iIOWQpuWImWNyZWF0ZU9iamVjdFVSTOS8muaKpemUmQogICAgICAvLyBsZXQgY29udGVudCA9IG5ldyBCbG9iKFtKU09OLnN0cmluZ2lmeSh0aGlzLnRvZG9zKV0pOwogICAgICAvL+eUn+aIkHVybOWvueixoQoKICAgICAgdmFyIHVybE9iamVjdCA9IHdpbmRvdy5VUkwgfHwgd2luZG93LndlYmtpdFVSTCB8fCB3aW5kb3c7CiAgICAgIHZhciB1cmwgPSB1cmxPYmplY3QuY3JlYXRlT2JqZWN0VVJMKGZpbGVzKTsgLy/nlJ/miJA8YT48L2E+RE9N5YWD57SgCgogICAgICB2YXIgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7IC8v6ZO+5o6l6LWL5YC8CgogICAgICBlbC5ocmVmID0gdXJsOwogICAgICBlbC5kb3dubG9hZCA9ICIuLi8uLi9pbWcvIiArIG5hbWU7CiAgICAgIGNvbnNvbGUubG9nKCLlvIDlp4vlrozmiJAiKTsgLy/lv4Xpobvngrnlh7vlkKbliJnkuI3kvJrkuIvovb0KCiAgICAgIGVsLmNsaWNrKCk7CiAgICAgIGNvbnNvbGUubG9nKCLlhpnlhaXlrozmiJAiKTsgLy/np7vpmaTpk77mjqXph4rmlL7otYTmupAKCiAgICAgIHVybE9iamVjdC5yZXZva2VPYmplY3RVUkwodXJsKTsgLy8gY29uc29sZS5sb2coImZpbGUgcGF0aDE6IiwgZmlsZXMpOwogICAgICAvLyBsZXQgZmlsZU5hbWUgPSB0aGlzLmdldE9iamVjdFVybChmaWxlcyk7CiAgICAgIC8vIGNvbnNvbGUubG9nKCJmaWxlIHBhdGgyOiIsIGZpbGVOYW1lKTsKICAgIH0sCiAgICBnZXRPYmplY3RVcmw6IGZ1bmN0aW9uIGdldE9iamVjdFVybChmaWxlKSB7CiAgICAgIHZhciB1cmwgPSBudWxsOwoKICAgICAgaWYgKHdpbmRvdy5jcmVhdGVPYmplY3RVUkwgIT0gdW5kZWZpbmVkKSB7CiAgICAgICAgLy8gYmFzaWMKICAgICAgICB1cmwgPSB3aW5kb3cuY3JlYXRlT2JqZWN0VVJMKGZpbGUpOwogICAgICB9IGVsc2UgaWYgKHdpbmRvdy53ZWJraXRVUkwgIT0gdW5kZWZpbmVkKSB7CiAgICAgICAgLy8gd2Via2l0IG9yIGNocm9tZQogICAgICAgIHVybCA9IHdpbmRvdy53ZWJraXRVUkwuY3JlYXRlT2JqZWN0VVJMKGZpbGUpOwogICAgICB9IGVsc2UgaWYgKHdpbmRvdy5VUkwgIT0gdW5kZWZpbmVkKSB7CiAgICAgICAgLy8gbW96aWxsYShmaXJlZm94KQogICAgICAgIHVybCA9IHdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKGZpbGUpOwogICAgICB9CgogICAgICByZXR1cm4gdXJsOwogICAgfSAvLyAgIHNhdmVwaWModXJsKXsKICAgIC8vIHBpYz13aW5kb3cub3Blbih1cmwsImRlbW8iKQogICAgLy8gc2V0VGltZW91dCgncGljLmRvY3VtZW50LmV4ZWNDb21tYW5kKCJzYXZlYXMiKScsMCk7CiAgICAvLyByZXR1cm4gZmFsc2U7CiAgICAvLyAgIH0KCiAgfQp9Ow=="},{"version":3,"sources":["GoodsUpload.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwBA;AAIA,eAAA;AACA,EAAA,IAAA,EAAA,cADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,UAAA,EAAA,EADA;AAEA,MAAA,UAAA,EAAA,EAFA;AAGA,MAAA,GAAA,EAAA,EAHA;AAIA,MAAA,KAAA,EAAA,GAJA;AAKA,MAAA,OAAA,EAAA;AALA,KAAA;AAQA,GAXA;AAYA,EAAA,OAZA,qBAYA,CACA,CAbA;AAcA,EAAA,OAAA,EAAA;AACA,IAAA,UADA,wBACA,CAEA,CAHA;AAIA,IAAA,OAJA,mBAIA,EAJA,EAIA;AAAA;;AACA;AACA,UAAA,IAAA,GAAA,EAAA,CAAA,MAAA,CAAA,KAAA,CAAA,CAAA,CAAA;AACA,WAAA,MAAA,GAAA,EAAA,CAAA,MAAA,CAAA,KAAA,CAAA,CAAA,CAAA;AACA,UAAA,GAAA,GAAA,IAAA,UAAA,EAAA;AACA,MAAA,GAAA,CAAA,aAAA,CAAA,IAAA,EALA,CAMA;AACA;AACA;;AACA,MAAA,GAAA,CAAA,MAAA,GAAA,YAAA;AACA,QAAA,KAAA,CAAA,SAAA,CAAA,GAAA,CAAA,MAAA,EAAA,UAAA,MAAA,EAAA;AACA,UAAA,KAAA,CAAA,GAAA,GAAA,MAAA;AACA,SAFA;AAGA,OAJA;AAKA,KAlBA;AAmBA,IAAA,MAnBA,kBAmBA,KAnBA,EAmBA;AACA,UAAA,KAAA,GAAA,KAAA,CAAA,MAAA,CAAA,KAAA,CAAA,CAAA,CAAA;AACA,UAAA,IAAA,GAAA,KAAA,CAAA,IAAA,CAFA,CAEA;;AACA,UAAA,IAAA,GAAA,KAAA,CAAA,IAAA,CAHA,CAGA;;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,SAAA,IAAA,GAAA,KAAA,GAAA,IAAA,EAJA,CAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;;AACA,UAAA,SAAA,GAAA,MAAA,CAAA,GAAA,IAAA,MAAA,CAAA,SAAA,IAAA,MAAA;AACA,UAAA,GAAA,GAAA,SAAA,CAAA,eAAA,CAAA,KAAA,CAAA,CAvBA,CAwBA;;AACA,UAAA,EAAA,GAAA,QAAA,CAAA,aAAA,CAAA,GAAA,CAAA,CAzBA,CA0BA;;AACA,MAAA,EAAA,CAAA,IAAA,GAAA,GAAA;AACA,MAAA,EAAA,CAAA,QAAA,GAAA,eAAA,IAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,MAAA,EA7BA,CA8BA;;AACA,MAAA,EAAA,CAAA,KAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,MAAA,EAhCA,CAiCA;;AACA,MAAA,SAAA,CAAA,eAAA,CAAA,GAAA,EAlCA,CAsCA;AACA;AACA;AACA,KA5DA;AA6DA,IAAA,YA7DA,wBA6DA,IA7DA,EA6DA;AACA,UAAA,GAAA,GAAA,IAAA;;AACA,UAAA,MAAA,CAAA,eAAA,IAAA,SAAA,EAAA;AACA;AACA,QAAA,GAAA,GAAA,MAAA,CAAA,eAAA,CAAA,IAAA,CAAA;AACA,OAHA,MAGA,IAAA,MAAA,CAAA,SAAA,IAAA,SAAA,EAAA;AACA;AACA,QAAA,GAAA,GAAA,MAAA,CAAA,SAAA,CAAA,eAAA,CAAA,IAAA,CAAA;AACA,OAHA,MAGA,IAAA,MAAA,CAAA,GAAA,IAAA,SAAA,EAAA;AACA;AACA,QAAA,GAAA,GAAA,MAAA,CAAA,GAAA,CAAA,eAAA,CAAA,IAAA,CAAA;AACA;;AACA,aAAA,GAAA;AACA,KA1EA,CA2EA;AACA;AACA;AACA;AACA;;AA/EA;AAdA,CAAA","sourcesContent":["<template>\r\n<div>\r\n    <label>goods name:</label>\r\n    <input type=\"text\" v-model=\"goods_name\"><br><br>\r\n    <label>goods description:</label>\r\n    <input type=\"text\" v-model=\"goods_desc\"><br><br>\r\n    <label>price:</label>\r\n    <input type=\"text\" v-model=\"price\"><br><br>\r\n    <label>image:</label>\r\n    <!--<input type=\"file\" @change=\"Preview($event)\" accept=\"image/*\" ref=\"showinput\"><br><br>-->\r\n    <input type=\"file\"  @change.prevent.stop=\"upload\"><br><br>\r\n    <img src=\"\" id=\"img\"/>\r\n    <p id=\"text\"></p>\r\n\r\n    <!--<input type=\"file\" name=\"file\" id=\"file\" class=\"inputfile\" />-->\r\n    <!--<label for=\"file\" class='btn btn-success'>Choose a file</label><br><br>-->\r\n    <button @click=\"submitForm($event)\">Submit</button>\r\n</div>\r\n\r\n</template>\r\n\r\n// These components will use UserService to request data.\r\n\r\n<script>\r\n// import GoodsService from '../services/goods.service';\r\n\r\n\r\n\r\nexport default {\r\n  name: 'GoodsManager',\r\n  data() {\r\n    return {\r\n      goods_name:\"\",\r\n      goods_desc:\"\",\r\n      img:\"\",\r\n      price: 0.0,\r\n      loading:false\r\n\r\n    };\r\n  },\r\n  mounted() {\r\n  },\r\n  methods:{\r\n    submitForm(){\r\n\r\n    },\r\n    Preview(ev){\r\n      // const self=this;\r\n      const file=ev.target.files[0];\r\n      this.imgObj=ev.target.files[0];\r\n      let obj=new FileReader();\r\n      obj.readAsDataURL(file);\r\n      // obj.onload=function(){\r\n      //   self.img=obj.result;\r\n      // }\r\n      obj.onload=()=>{\r\n        this.picReduce(obj.result,base64=>{\r\n          this.img=base64\r\n        });\r\n      };\r\n    },\r\n    upload(event) {\r\n      let files = event.target.files[0];\r\n      var name = files.name;//读取选中文件的文件名\r\n      var size = files.size;//读取选中文件的大小\r\n      console.log(\"文件名:\"+name+\"大小:\"+size);\r\n\r\n      // var reader = new FileReader();//这是核心,读取操作就是由它完成.\r\n      // //新建 FileReader 对象\r\n      // reader.onload = function(){\r\n      //   // 当 FileReader 读取文件时候，读取的结果会放在 FileReader.result 属性中\r\n      //   document.querySelector('#img').src = this.result;\r\n      //   document.querySelector('#text').innerHTML = this.result;\r\n      //\r\n      //\r\n      // };\r\n      // // 设置以什么方式读取文件，这里以base64方式\r\n      // reader.readAsDataURL(files);\r\n\r\n      //定义文件内容，类型必须为Blob 否则createObjectURL会报错\r\n      // let content = new Blob([JSON.stringify(this.todos)]);\r\n\r\n      //生成url对象\r\n      let urlObject = window.URL || window.webkitURL || window;\r\n      let url = urlObject.createObjectURL(files);\r\n      //生成<a></a>DOM元素\r\n      let el = document.createElement('a');\r\n      //链接赋值\r\n      el.href = url;\r\n      el.download =\"../../img/\"+name;\r\n      console.log(\"开始完成\");\r\n      //必须点击否则不会下载\r\n      el.click();\r\n      console.log(\"写入完成\");\r\n      //移除链接释放资源\r\n      urlObject.revokeObjectURL(url);\r\n\r\n\r\n\r\n      // console.log(\"file path1:\", files);\r\n      // let fileName = this.getObjectUrl(files);\r\n      // console.log(\"file path2:\", fileName);\r\n    },\r\n    getObjectUrl(file) {\r\n      let url = null;\r\n      if (window.createObjectURL != undefined) {\r\n        // basic\r\n        url = window.createObjectURL(file);\r\n      } else if (window.webkitURL != undefined) {\r\n        // webkit or chrome\r\n        url = window.webkitURL.createObjectURL(file);\r\n      } else if (window.URL != undefined) {\r\n        // mozilla(firefox)\r\n        url = window.URL.createObjectURL(file);\r\n      }\r\n      return url;\r\n    }\r\n  //   savepic(url){\r\n  // pic=window.open(url,\"demo\")\r\n  // setTimeout('pic.document.execCommand(\"saveas\")',0);\r\n  // return false;\r\n  //   }\r\n}\r\n\r\n\r\n};\r\n</script>\r\n\r\n<style>\r\n.inputfile {\r\n  position:absolute;clip:rect(0 0 0 0);\r\n}\r\n</style>"],"sourceRoot":"src/views"}]}